{"ok":true,"compiled_spec":{"compiled_schema_version":1,"spec_id":"sha256:e7a4ec0e1eb06c7e40f70a8c89e4034f7a8f5a14eff1e7d1163b4af453cb37c0","source_meta":{"dsl_schema_version":0,"engine_compat":">=1.0.0","id":"uno","name":"Uno","seats":{"min":2,"max":4,"default":4}},"entities_index":{"red-1":{"props":{"count":2,"color":"red","num":1},"type":"card","id":"red-1"},"red-2":{"props":{"count":2,"color":"red","num":2},"type":"card","id":"red-2"},"red-3":{"props":{"count":2,"color":"red","num":3},"type":"card","id":"red-3"},"red-4":{"props":{"count":2,"color":"red","num":4},"type":"card","id":"red-4"},"red-5":{"props":{"count":2,"color":"red","num":5},"type":"card","id":"red-5"},"red-6":{"props":{"count":2,"color":"red","num":6},"type":"card","id":"red-6"},"red-7":{"props":{"count":2,"color":"red","num":7},"type":"card","id":"red-7"},"red-8":{"props":{"count":2,"color":"red","num":8},"type":"card","id":"red-8"},"red-9":{"props":{"count":2,"color":"red","num":9},"type":"card","id":"red-9"},"red-0":{"props":{"count":1,"color":"red","num":0},"type":"card","id":"red-0"},"blue-1":{"props":{"count":2,"color":"blue","num":1},"type":"card","id":"blue-1"},"blue-2":{"props":{"count":2,"color":"blue","num":2},"type":"card","id":"blue-2"},"blue-3":{"props":{"count":2,"color":"blue","num":3},"type":"card","id":"blue-3"},"blue-4":{"props":{"count":2,"color":"blue","num":4},"type":"card","id":"blue-4"},"blue-5":{"props":{"count":2,"color":"blue","num":5},"type":"card","id":"blue-5"},"blue-6":{"props":{"count":2,"color":"blue","num":6},"type":"card","id":"blue-6"},"blue-7":{"props":{"count":2,"color":"blue","num":7},"type":"card","id":"blue-7"},"blue-8":{"props":{"count":2,"color":"blue","num":8},"type":"card","id":"blue-8"},"blue-9":{"props":{"count":2,"color":"blue","num":9},"type":"card","id":"blue-9"},"blue-0":{"props":{"count":1,"color":"blue","num":0},"type":"card","id":"blue-0"},"green-1":{"props":{"count":2,"color":"green","num":1},"type":"card","id":"green-1"},"green-2":{"props":{"count":2,"color":"green","num":2},"type":"card","id":"green-2"},"green-3":{"props":{"count":2,"color":"green","num":3},"type":"card","id":"green-3"},"green-4":{"props":{"count":2,"color":"green","num":4},"type":"card","id":"green-4"},"green-5":{"props":{"count":2,"color":"green","num":5},"type":"card","id":"green-5"},"green-6":{"props":{"count":2,"color":"green","num":6},"type":"card","id":"green-6"},"green-7":{"props":{"count":2,"color":"green","num":7},"type":"card","id":"green-7"},"green-8":{"props":{"count":2,"color":"green","num":8},"type":"card","id":"green-8"},"green-9":{"props":{"count":2,"color":"green","num":9},"type":"card","id":"green-9"},"green-0":{"props":{"count":1,"color":"green","num":0},"type":"card","id":"green-0"},"yellow-1":{"props":{"count":2,"color":"yellow","num":1},"type":"card","id":"yellow-1"},"yellow-2":{"props":{"count":2,"color":"yellow","num":2},"type":"card","id":"yellow-2"},"yellow-3":{"props":{"count":2,"color":"yellow","num":3},"type":"card","id":"yellow-3"},"yellow-4":{"props":{"count":2,"color":"yellow","num":4},"type":"card","id":"yellow-4"},"yellow-5":{"props":{"count":2,"color":"yellow","num":5},"type":"card","id":"yellow-5"},"yellow-6":{"props":{"count":2,"color":"yellow","num":6},"type":"card","id":"yellow-6"},"yellow-7":{"props":{"count":2,"color":"yellow","num":7},"type":"card","id":"yellow-7"},"yellow-8":{"props":{"count":2,"color":"yellow","num":8},"type":"card","id":"yellow-8"},"yellow-9":{"props":{"count":2,"color":"yellow","num":9},"type":"card","id":"yellow-9"},"yellow-0":{"props":{"count":1,"color":"yellow","num":0},"type":"card","id":"yellow-0"}},"zones_index":{"pool":{"kind":"stack","scope":"public","visibility":"all"},"discard_pile":{"kind":"stack","scope":"public","visibility":"all"},"hand":{"kind":"list","scope":"per_seat","visibility":"owner"},"desk":{"kind":"stack","scope":"public","visibility":"none"}},"initializers":{"plan":[{"op":"spawn","entity":"red-1","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"red","num":1}},{"op":"spawn","entity":"red-2","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"red","num":2}},{"op":"spawn","entity":"red-3","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"red","num":3}},{"op":"spawn","entity":"red-4","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"red","num":4}},{"op":"spawn","entity":"red-5","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"red","num":5}},{"op":"spawn","entity":"red-6","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"red","num":6}},{"op":"spawn","entity":"red-7","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"red","num":7}},{"op":"spawn","entity":"red-8","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"red","num":8}},{"op":"spawn","entity":"red-9","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"red","num":9}},{"op":"spawn","entity":"red-0","to_zone":"desk","owner":"_","count":1,"props":{"count":1,"color":"red","num":0}},{"op":"spawn","entity":"blue-1","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"blue","num":1}},{"op":"spawn","entity":"blue-2","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"blue","num":2}},{"op":"spawn","entity":"blue-3","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"blue","num":3}},{"op":"spawn","entity":"blue-4","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"blue","num":4}},{"op":"spawn","entity":"blue-5","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"blue","num":5}},{"op":"spawn","entity":"blue-6","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"blue","num":6}},{"op":"spawn","entity":"blue-7","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"blue","num":7}},{"op":"spawn","entity":"blue-8","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"blue","num":8}},{"op":"spawn","entity":"blue-9","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"blue","num":9}},{"op":"spawn","entity":"blue-0","to_zone":"desk","owner":"_","count":1,"props":{"count":1,"color":"blue","num":0}},{"op":"spawn","entity":"green-1","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"green","num":1}},{"op":"spawn","entity":"green-2","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"green","num":2}},{"op":"spawn","entity":"green-3","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"green","num":3}},{"op":"spawn","entity":"green-4","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"green","num":4}},{"op":"spawn","entity":"green-5","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"green","num":5}},{"op":"spawn","entity":"green-6","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"green","num":6}},{"op":"spawn","entity":"green-7","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"green","num":7}},{"op":"spawn","entity":"green-8","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"green","num":8}},{"op":"spawn","entity":"green-9","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"green","num":9}},{"op":"spawn","entity":"green-0","to_zone":"desk","owner":"_","count":1,"props":{"count":1,"color":"green","num":0}},{"op":"spawn","entity":"yellow-1","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"yellow","num":1}},{"op":"spawn","entity":"yellow-2","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"yellow","num":2}},{"op":"spawn","entity":"yellow-3","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"yellow","num":3}},{"op":"spawn","entity":"yellow-4","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"yellow","num":4}},{"op":"spawn","entity":"yellow-5","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"yellow","num":5}},{"op":"spawn","entity":"yellow-6","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"yellow","num":6}},{"op":"spawn","entity":"yellow-7","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"yellow","num":7}},{"op":"spawn","entity":"yellow-8","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"yellow","num":8}},{"op":"spawn","entity":"yellow-9","to_zone":"desk","owner":"_","count":2,"props":{"count":2,"color":"yellow","num":9}},{"op":"spawn","entity":"yellow-0","to_zone":"desk","owner":"_","count":1,"props":{"count":1,"color":"yellow","num":0}},{"op":"shuffle","zone":"desk","owner":"_"},{"op":"deal","from_zone":"desk","to_zone":"hand","from_owner":"_","to_owner":"seat","count":5}],"seed_vars":{"turn":1},"seed_per_seat":{}},"phase_graph":{"initial_phase":"setup","nodes":[],"transitions":[],"turn_order":"clockwise"},"actions_index":{"play_any_on_empty":{"input_spec":{"type":"object","properties":{"card_id":{"type":"string"}},"required":["card_id"]},"require_ast":{"op":"==","args":[{"op":"get","args":[{"var":"state.zones.pool.instances._.items"},"length"]},0]},"effect_pipeline":[{"op":"move_id","from_zone":"hand","to_zone":"pool","from_owner":"by","to_owner":"_","entity_id":"[object Object]"}],"action_hash":"sha256:e2a9a48d9effccc7c5de2b988741f2ed6945ab5ee3aea632af864cb3156ec2af"},"play_card":{"input_spec":{"type":"object","properties":{"card_id":{"type":"string"}},"required":["card_id"]},"require_ast":{"op":"or","args":[{"op":"==","args":[{"op":"get","args":[{"var":"state.entities"},{"var":"payload.card_id"},"props","color"]},{"op":"get","args":[{"var":"state.entities"},{"op":"get","args":[{"var":"state.zones.pool.instances._.items"},0]},"props","color"]}]},{"op":"==","args":[{"op":"get","args":[{"var":"state.entities"},{"var":"payload.card_id"},"props","num"]},{"op":"get","args":[{"var":"state.entities"},{"op":"get","args":[{"var":"state.zones.pool.instances._.items"},0]},"props","num"]}]}]},"effect_pipeline":[{"op":"move_id","from_zone":"hand","to_zone":"pool","from_owner":"by","to_owner":"_","entity_id":"[object Object]"}],"action_hash":"sha256:e2a9a48d9effccc7c5de2b988741f2ed6945ab5ee3aea632af864cb3156ec2af","input_enum":{"card_id":{"zone":"hand","owner":"by"}}},"draw":{"input_spec":{},"require_ast":{"op":"and","args":[{"op":">","args":[{"op":"get","args":[{"var":"state.zones.pool.instances._.items"},"length"]},0]},{"op":"not","args":[{"op":"any","args":[{"var":"state.zones.hand.instances.by.items"},{"op":"or","args":[{"op":"==","args":[{"op":"get","args":[{"var":"state.entities"},{"var":"item"},"props","color"]},{"op":"get","args":[{"var":"state.entities"},{"op":"get","args":[{"var":"state.zones.pool.instances._.items"},0]},"props","color"]}]},{"op":"==","args":[{"op":"get","args":[{"var":"state.entities"},{"var":"item"},"props","num"]},{"op":"get","args":[{"var":"state.entities"},{"op":"get","args":[{"var":"state.zones.pool.instances._.items"},0]},"props","num"]}]}]}]}]}]},"effect_pipeline":[{"op":"deal","from_zone":"desk","to_zone":"hand","from_owner":"_","to_owner":"by","count":1}],"action_hash":"sha256:5061ec4e711c4549af7680ca84c80d601519486b0e096328a8f2e6ae253928a0"}},"triggers_index":{},"victory":{"order":[]},"invariants":[],"read_caps":{"pool":{"visibility":"all"},"discard_pile":{"visibility":"all"},"hand":{"visibility":"owner"},"desk":{"visibility":"none"}},"eval_limits":{"max_expr_nodes":64,"max_rng_calls_per_reduce":8,"max_for_each_iter":100}},"spec_id":"sha256:e7a4ec0e1eb06c7e40f70a8c89e4034f7a8f5a14eff1e7d1163b4af453cb37c0","errors":[],"warnings":[],"time_ms":5}
